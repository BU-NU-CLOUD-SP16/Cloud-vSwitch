<!-- Page Heading --><div ng-controller="OrgCtrl">
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">
                            My Organizations
                        </h1>     </div>
    </div>

    <div>

        <!-- 
        <form class="form-inline" style="margin-bottom: 10px;">
            <div class="form-group">
                <input type="text" class="form-control" ng-model="organization.name" placeholder="Organization" style="margin-bottom: 15px;">
            </div>
            <button type="button" class="btn btn-default" ng-click="add_organization()" style="width: 75px; margin-bottom: 15px;">Create</button>
            <div class="form-group">
                <input type="text" class="form-control" ng-model="organization.code" placeholder="Invitation code" style="margin-bottom: 15px;">
            </div>
            <button type="button" class="btn btn-default" ng-click="join_organization()" style="width: 75px; margin-bottom: 15px;">Join</button>
        </form>
        -->
        
        <div class="row">
            <div class="col-lg-3 col-md-4">
                <form class="form-inline" style="margin-bottom: 10px;" ng-submit="add_organization()")>
                    <div class="row">
                    <div class="form-group col-lg-8 col-md-9 col-sm-9 col-xs-9">
                        <input type="text" class="form-control" ng-model="organization.name" placeholder="Organization" style="margin-bottom: 15px; width:100%" required>
                    </div>
                    <button type="submit" class="btn btn-default col-lg-1 col-md-3 col-sm-3 col-xs-3" style="width: 75px; margin-bottom: 15px;">Create</button>
                    <div ng-messages="organization.name.$error">
                        <div ng-message="required">This field is required</div>
                    </div>
                    </div>
                </form>
            </div>
            <div class="col-lg-3 col-md-4">
                <form class="form-inline" style="margin-bottom: 10px;" ng-submit="join_organization()">
                    <div class="row">
                    <div class="form-group col-lg-8 col-md-9 col-sm-9 col-xs-9">
                        <input type="text" class="form-control" ng-model="organization.code" placeholder="Invitation code" style="margin-bottom: 15px; width:100%" required>
                    </div>
                    <button type="submit" class="btn btn-default col-lg-1 col-md-3 col-sm-3 col-xs-3" style="width: 75px; margin-bottom: 15px;">Join</button>
                    <div ng-messages="organization.code.$error">
                        <div ng-message="required">This field is required</div>
                    </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!-- /.row -->

    <div class="row">
        <form name="form">
            <div class="col-lg-3 col-md-3 col-sm-4" ng-repeat="i in organizations track by $index">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <div style="float: right">
                            <a class="pointer"><i class="fa fa-search action-icon" ng-click="view_instances($index)"></i></a>
                            <a class="pointer"><i class="fa fa-pencil action-icon" ng-click="edit=!edit" ></i></a>
                            <a class="pointer"><i class="fa fa-trash action-icon" ng-click="rem_organization($index)"></i></a>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                    <div class="panel-body">
                        <div ng-if="!organizations[$index].ready">
                            <i class="fa fa-spinner fa-pulse" style="width:100%; text-align:center; color:#777"></i>
                        </div>
                        <input type="text" class="no-border" ng-model="organizations[$index].name" ng-show="edit" ng-if="organizations[$index].ready" ng-change="edit_organization($index)"></input>
                        <span ng-show="!edit" ng-if="organizations[$index].ready">{{i.name}}</span>
                    </div>
                </div>
            </div>
        </form>
    </div>

    <!-- /.row -->
</div>